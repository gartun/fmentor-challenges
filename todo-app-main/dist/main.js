!function(){Element.prototype.remove=Element.prototype.remove||function(){this.parentElement&&this.parentElement.removeChild(this)};var e=document.querySelector(".mode"),t=document.getElementById("add-checkbox"),n=document.getElementById("new-todo"),c=document.getElementsByClassName("todo-ul")[0];function o(e){e.remove(),l()}function l(){var e=[].slice.call(document.getElementsByClassName("complete-checkbox")),t=document.getElementsByClassName("left-num")[0],n=[].slice.call(document.getElementsByClassName("checked")),c=e.length-n.length;t.innerText=c}function d(){var e=n.value;e&&""!==e.trim()&&function(e){var t=document.createElement("p");t.setAttribute("role","listitem");var n=document.createElement("span");n.setAttribute("role","checkbox"),n.setAttribute("class","complete-checkbox"),n.setAttribute("tabindex","0"),n.addEventListener("click",(function(){this.classList.toggle("checked"),l()}));var d=document.createElement("span"),i=document.createTextNode(" ".concat(e));d.appendChild(i);var a=document.createElement("button");a.innerText="x",a.addEventListener("click",(function(){o(t)})),t.appendChild(n),t.appendChild(d),t.appendChild(a),c.insertBefore(t,c.firstElementChild),l()}(e),n.value=""}function i(){[].slice.call(document.getElementsByClassName("complete-checkbox")).forEach((function(e){e.addEventListener("click",(function(){this.classList.toggle("checked"),l()}))})),[].slice.call(document.querySelectorAll("[role='listitem']")).forEach((function(e){e.getElementsByTagName("button")[0].addEventListener("click",(function(){o(e)}))})),l()}e.addEventListener("click",(function(){[].slice.call(document.body.classList).indexOf("dark")>-1?(document.body.classList.remove("dark"),document.querySelector(".mode > img").src="./images/icon-moon.svg"):(document.body.classList.add("dark"),document.querySelector(".mode > img").src="./images/icon-sun.svg")})),n.addEventListener("keydown",(function(e){13===e.keyCode&&d()})),t.addEventListener("click",d),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",i):i()}();